#ifndef INCLUDED_ZENO_GRAPHICS_TEXT_HPP
#define INCLUDED_ZENO_GRAPHICS_TEXT_HPP

#include <string>

#include <zeno/Graphics/Colour.hpp>
#include <zeno/Graphics/RenderData.hpp>

#include <zeno/System/Rect.hpp>

namespace zeno {

class Font;

////////////////////////////////////////////////////////////
//
//	Class for drawing 2D text generated from a font
//
////////////////////////////////////////////////////////////
class Text
{
public:
	////////////////////////////////////////////////////////////
	//
	//	Default constructor
	//
	////////////////////////////////////////////////////////////
	Text(void);
	////////////////////////////////////////////////////////////
	//
	//	Destructor
	//
	////////////////////////////////////////////////////////////
	~Text(void);

	////////////////////////////////////////////////////////////
	//
	//	Generates the verticies so the Text object is ready to 
	//	render
	//
	////////////////////////////////////////////////////////////
	void generateText(const std::string& _text, Font *_font);

	////////////////////////////////////////////////////////////
	//
	//	Renders the Text with the given renderData
	//
	////////////////////////////////////////////////////////////
	void render(RenderData _data) const;

	////////////////////////////////////////////////////////////
	//
	//	Sets the colour to set the text to 
	//
	////////////////////////////////////////////////////////////
	void setColour(const Colour& _colour);
	
	////////////////////////////////////////////////////////////
	//
	//	Enables kerning for text
	//
	////////////////////////////////////////////////////////////
	void setKerning(bool _kerning = true);

	////////////////////////////////////////////////////////////
	//
	//	Returns the bounding rectangle of the text,
	//	doesn't take into account the transformation
	//
	////////////////////////////////////////////////////////////
	FloatRect getBounds(void);

	////////////////////////////////////////////////////////////
	//
	//	Returns the bounding rectangle of the text,
	//	takes into account the translation of the text
	//
	////////////////////////////////////////////////////////////
	FloatRect getTransformedBounds(void);

private:
	////////////////////////////////////////////////////////////
	//
	//	The font for the Text
	//
	////////////////////////////////////////////////////////////
	Font *					m_Font;

	unsigned int			m_VAO;

	unsigned int			m_Verticies;

	Colour					m_TextColour;

	bool					m_UseKerning;

	////////////////////////////////////////////////////////////
	//
	//	Bounds of the currently generated text
	//
	////////////////////////////////////////////////////////////
	FloatRect				m_Bounds;
};

} //~ namespace zeno

#endif //~ INCLUDED_ZENO_GRAPHICS_TEXT_HPP