#ifndef INCLUDED_ZENO_WINDOW_CONTEXT_WIN32_HPP
#define INCLUDED_ZENO_WINDOW_CONTEXT_WIN32_HPP

#ifndef NOMINMAX
#define NOMINMAX
#endif //~ NOMINMAX
#include <Windows.h>

namespace zeno {

////////////////////////////////////////////////////////////
//
//	OpenGL rendering context 
//
////////////////////////////////////////////////////////////
class ContextWin32
{
public:
	////////////////////////////////////////////////////////////
	//
	//	Constructor
	//
	////////////////////////////////////////////////////////////
	ContextWin32(void);

	////////////////////////////////////////////////////////////
	//
	//	Deconstructor
	//
	////////////////////////////////////////////////////////////
	~ContextWin32(void);

	////////////////////////////////////////////////////////////
	//
	//	Returns whether or not the context could be made from 
	//	the given handle
	//
	////////////////////////////////////////////////////////////
	bool create(HWND _handle);
	
	////////////////////////////////////////////////////////////
	//
	//	Enables/disables vsync with respect to the given value
	//
	////////////////////////////////////////////////////////////
	void setVerticalSync(bool _vsync = true);

	////////////////////////////////////////////////////////////
	//
	//	Returns whether or not vsync is enabled for the window
	//
	////////////////////////////////////////////////////////////
	bool getVerticalSyncState(void);

private:
	////////////////////////////////////////////////////////////
	//
	//	Initialises various things within the context, gets
	//	functions pointers etc.
	//
	////////////////////////////////////////////////////////////
	void initContext(void);


private:
	////////////////////////////////////////////////////////////
	//
	//	Rendering context
	//
	////////////////////////////////////////////////////////////
	HGLRC hrc;

	////////////////////////////////////////////////////////////
	//
	//	Device context
	//
	////////////////////////////////////////////////////////////
	HDC hdc;

	////////////////////////////////////////////////////////////
	//
	//	Window handle
	//
	////////////////////////////////////////////////////////////
	HWND hwnd;
};

}

#endif //~ INCLUDED_ZENO_WINDOW_CONTEXT_WIN32_HPP