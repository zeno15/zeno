#ifndef INCLUDED_GUI_BUTTON_HPP
#define INCLUDED_GUI_BUTTON_HPP

#include <Rect.hpp>
#include <GuiBase.hpp>
#include <GL/glew.h>

#include <functional>

namespace zeno {

////////////////////////////////////////////////////////////
//
//	Simple push button class
//
////////////////////////////////////////////////////////////
class GuiButton : public GuiBase
{
public:
	////////////////////////////////////////////////////////////
	//
	//	Default constructor
	//
	////////////////////////////////////////////////////////////
	GuiButton(void);
	////////////////////////////////////////////////////////////
	//
	//	Deconstructor
	//
	////////////////////////////////////////////////////////////
	~GuiButton(void);


	////////////////////////////////////////////////////////////
	//
	//	Virtual function which returns whether or not the 
	//	element can handle the given event, and if it can handle
	//	it, it does so
	//
	////////////////////////////////////////////////////////////
	virtual bool processEvent(const GUIEvent& _event);

	////////////////////////////////////////////////////////////
	//
	//	Renders the element
	//
	////////////////////////////////////////////////////////////
	virtual void render(void) const;

	////////////////////////////////////////////////////////////
	//
	//	Registers the function to be called on activation of button
	//
	////////////////////////////////////////////////////////////
	void registerCallbackPress(std::function<void(void)> _function);

	////////////////////////////////////////////////////////////
	//
	//	Registers the function to be called on activation of button
	//
	////////////////////////////////////////////////////////////
	void registerCallbackRelease(std::function<void(void)> _function);
	
private:
	GLuint VAO;
	FloatRect	bounds;

	bool		m_Depressed;

	std::function<void(void)>		m_PressFunction;
	std::function<void(void)>		m_ReleaseFunction;
};

} //~ namespace zeno

#endif //~ INCLUDED_GUI_BUTTON_HPP